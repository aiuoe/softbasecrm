<div [@routerTransition]>
    <div class="content d-flex flex-column flex-column-fluid">
        <sub-header [title]="('Leads' | localize) + ' ' + ('Details' | localize)" [breadcrumbs]="breadcrumbs">
        </sub-header>

        <div [class]="containerClass">
            <div class="card card-custom gutter-b">
                <div class="card-body">
                    <p-divider align="left">
                        <div class="p-d-inline-flex">
                            <i class="pi pi-user"></i>
                            <span><b>General Information</b></span>
                        </div>
                    </p-divider>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="Lead_CompanyName">{{ l('CompanyName') }} *</label>
                                <input type="text" #Lead_CompanyName="ngModel" id="Lead_CompanyName"
                                    class="form-control" [(ngModel)]="lead.companyName" name="CompanyName" minlength="1"
                                    maxlength="250" required />
                                <validation-messages [formCtrl]="Lead_CompanyName"></validation-messages>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <label for="Lead_CompanyName">{{ l('CompanyName') }} *</label>
                            <div class="row">
                                <div class="col-md-1">
                                    <div class="form-group">
                                        <p-dropdown [options]="countries" [(ngModel)]="selectedCountry"
                                            optionLabel="countryCode">
                                            <ng-template let-item pTemplate="selectedItem">
                                                <i class="margin-right-5 d-inline-block" [ngClass]="item.flag"></i>
                                            </ng-template>
                                            <ng-template let-flag pTemplate="item">
                                                <i class="margin-right-5 d-inline-block" [ngClass]="flag.flag"></i>
                                            </ng-template>
                                        </p-dropdown>
                                    </div>
                                </div>

                                <div class="col-md-11">
                                    <div class="form-group">
                                        <input type="text" #Lead_CompanyPhone="ngModel" id="Lead_CompanyPhone"
                                            class="form-control" [(ngModel)]="lead.companyPhone" name="CompanyPhone"
                                            minlength="1" maxlength="50" required />
                                        <validation-messages [formCtrl]="Lead_CompanyPhone"></validation-messages>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="Lead_CompanyEmail">{{ l('CompanyEmail') }}</label>
                                <input type="text" #Lead_CompanyEmail="ngModel" id="Lead_CompanyEmail"
                                    class="form-control" [(ngModel)]="lead.companyEmail" name="CompanyEmail"
                                    minlength="1" maxlength="100" />
                                <validation-messages [formCtrl]="Lead_CompanyEmail"></validation-messages>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="Lead_WebSite">{{ l('WebSite') }}</label>
                                <input type="text" #Lead_WebSite="ngModel" id="Lead_WebSite" class="form-control"
                                    [(ngModel)]="lead.webSite" name="WebSite" minlength="1" maxlength="100" />
                                <validation-messages [formCtrl]="Lead_WebSite"></validation-messages>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="Lead_Address">{{ l('Address') }}</label>
                                <input type="text" #Lead_Address="ngModel" id="Lead_Address" class="form-control"
                                    [(ngModel)]="lead.address" name="Address" minlength="1" maxlength="100" />
                                <validation-messages [formCtrl]="Lead_Address"></validation-messages>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="Lead_PoBox">{{ l('PoBox') }}</label>
                                <input type="text" #Lead_PoBox="ngModel" id="Lead_PoBox" class="form-control"
                                    [(ngModel)]="lead.poBox" name="PoBox" minlength="1" maxlength="100" />
                                <validation-messages [formCtrl]="Lead_PoBox"></validation-messages>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-3">
                            <div class="form-group">
                                <label for="Lead_Country">{{ l('Country') }}</label>
                                <input type="text" #Lead_Country="ngModel" id="Lead_Country" class="form-control"
                                    [(ngModel)]="lead.country" name="Country" minlength="1" maxlength="100" />
                                <validation-messages [formCtrl]="Lead_Country"></validation-messages>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-group">
                                <label for="Lead_City">{{ l('City') }}</label>
                                <input type="text" #Lead_City="ngModel" id="Lead_City" class="form-control"
                                    [(ngModel)]="lead.city" name="City" minlength="1" maxlength="100" />
                                <validation-messages [formCtrl]="Lead_City"></validation-messages>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-group">
                                <label for="Lead_State">{{ l('State') }}</label>
                                <input type="text" #Lead_State="ngModel" id="Lead_State" class="form-control"
                                    [(ngModel)]="lead.state" name="State" minlength="1" maxlength="100" />
                                <validation-messages [formCtrl]="Lead_State"></validation-messages>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-group">
                                <label for="Lead_ZipCode">{{ l('ZipCode') }}</label>
                                <input type="text" #Lead_ZipCode="ngModel" id="Lead_ZipCode" class="form-control"
                                    [(ngModel)]="lead.zipCode" name="ZipCode" minlength="1" maxlength="50" />
                                <validation-messages [formCtrl]="Lead_ZipCode"></validation-messages>
                            </div>
                        </div>
                    </div>
                    <p-divider align="left">
                        <div class="p-d-inline-flex">
                            <i class="pi pi-user"></i>
                            <span><b>Contact details</b></span>
                        </div>
                    </p-divider>

                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="Lead_ContactName">{{ l('ContactName') }}</label>
                                <input type="text" #Lead_ContactName="ngModel" id="Lead_ContactName"
                                    class="form-control" [(ngModel)]="lead.contactName" name="ContactName" minlength="1"
                                    maxlength="100" />
                                <validation-messages [formCtrl]="Lead_ContactName"></validation-messages>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="Lead_ContactPosition">{{ l('ContactPosition') }}</label>
                                <input type="text" #Lead_ContactPosition="ngModel" id="Lead_ContactPosition"
                                    class="form-control" [(ngModel)]="lead.contactPosition" name="ContactPosition"
                                    minlength="1" maxlength="100" />
                                <validation-messages [formCtrl]="Lead_ContactPosition"></validation-messages>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="Lead_ContactPhone">{{ l('ContactPhone') }}</label>
                                <input type="text" #Lead_ContactPhone="ngModel" id="Lead_ContactPhone"
                                    class="form-control" [(ngModel)]="lead.contactPhone" name="ContactPhone"
                                    minlength="1" maxlength="50" />
                                <validation-messages [formCtrl]="Lead_ContactPhone"></validation-messages>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="Lead_ContactPhoneExtension">{{ l('ContactPhoneExtension') }}</label>
                                <input type="text" #Lead_ContactPhoneExtension="ngModel" id="Lead_ContactPhoneExtension"
                                    class="form-control" [(ngModel)]="lead.contactPhoneExtension"
                                    name="ContactPhoneExtension" minlength="1" maxlength="50" />
                                <validation-messages [formCtrl]="Lead_ContactPhoneExtension"></validation-messages>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="Lead_ContactCellPhone">{{ l('ContactCellPhone') }}</label>
                                <input type="text" #Lead_ContactCellPhone="ngModel" id="Lead_ContactCellPhone"
                                    class="form-control" [(ngModel)]="lead.contactCellPhone" name="ContactCellPhone"
                                    minlength="1" maxlength="50" />
                                <validation-messages [formCtrl]="Lead_ContactCellPhone"></validation-messages>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="Lead_ContactFaxNumber">{{ l('ContactFaxNumber') }}</label>
                                <input type="text" #Lead_ContactFaxNumber="ngModel" id="Lead_ContactFaxNumber"
                                    class="form-control" [(ngModel)]="lead.contactFaxNumber" name="ContactFaxNumber"
                                    minlength="1" maxlength="50" />
                                <validation-messages [formCtrl]="Lead_ContactFaxNumber"></validation-messages>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="Lead_PagerNumber">{{ l('PagerNumber') }}</label>
                                <input type="text" #Lead_PagerNumber="ngModel" id="Lead_PagerNumber"
                                    class="form-control" [(ngModel)]="lead.pagerNumber" name="PagerNumber" minlength="1"
                                    maxlength="50" />
                                <validation-messages [formCtrl]="Lead_PagerNumber"></validation-messages>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label for="Lead_ContactEmail">{{ l('ContactEmail') }}</label>
                                <input type="text" #Lead_ContactEmail="ngModel" id="Lead_ContactEmail"
                                    class="form-control" [(ngModel)]="lead.contactEmail" name="ContactEmail"
                                    minlength="1" maxlength="100" />
                                <validation-messages [formCtrl]="Lead_ContactEmail"></validation-messages>
                            </div>
                        </div>
                    </div>

                    <p-divider align="left">
                        <div class="p-d-inline-flex">
                            <i class="pi pi-user"></i>
                            <span><b>Lead details</b></span>
                        </div>
                    </p-divider>

                    <div class="row">
                        <div class="col-md-4">
                            <div class="form-group m-form__group">
                                <label for="LeadStatusDescription">{{ l('LeadStatus') }}</label>
                                <select name="lead.leadStatusId" [(ngModel)]="lead.leadStatusId" class="form-control"
                                    required>
                                    <option value="">{{ l('SelectALeadStatus') }}</option>
                                    <option *ngFor="let item of allLeadStatuss" value="{{ item.id }}">
                                        {{ item.displayName }}
                                    </option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group m-form__group">
                                <label for="LeadSourceDescription">{{ l('LeadSource') }}</label>
                                <select name="lead.leadSourceId" [(ngModel)]="lead.leadSourceId" class="form-control"
                                    required>
                                    <option value="">{{ l('SelectALeadSource') }}</option>
                                    <option *ngFor="let item of allLeadSources" value="{{ item.id }}">
                                        {{ item.displayName }}
                                    </option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group m-form__group">
                                <label for="PriorityDescription">{{ l('Priority') }}</label>
                                <select name="lead.priorityId" [(ngModel)]="lead.priorityId" class="form-control">
                                    <option value="">{{ l('SelectAPriority') }}</option>
                                    <option *ngFor="let item of allPrioritys" value="{{ item.id }}">
                                        {{ item.displayName }}
                                    </option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-12">
                            <div class="form-group">
                                <label for="Lead_Description">{{ l('Description') }}</label>
                                <textarea class="textarea" rows="10" #Lead_Description="ngModel"
                                    [(ngModel)]="lead.description" name="Description" pInputTextarea></textarea>
                                <validation-messages [formCtrl]="Lead_Description"></validation-messages>
                            </div>
                        </div>
                    </div>

                </div>
                <div class="card-footer">
                    <div class="col-lg-12">
                        <button (click)="save()" class="btn btn-primary blue float-right" [buttonBusy]="saving"
                            [busyText]="l('SavingWithThreeDot')">
                            <i class="fa fa-save"></i>
                            <span>{{ l('Save') }}</span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>